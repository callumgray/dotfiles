# UBUNTU-CONKY
# A comprehensive conky script, configured for use on
# Ubuntu / Debian Gnome, without the need for any external scripts.
#
# Based on conky-jc and the default .conkyrc.
# INCLUDES:
# - tail of /var/log/messages
# - netstat connections to your computer
#
# -- Pengo (conky@pengo.us)
#

# Create own window instead of using desktop (required in nautilus)
own_window yes
own_window_type normal
own_window_hints undecorated,below,skip_taskbar
own_window_argb_visual
# Use double buffering (reduces flicker, may not work for everyone)
# double_buffer yes
override_utf8_locale yes

# fiddle with window
use_spacer right
use_xft yes

# Update interval in seconds
update_interval 1.0
default_bar_size 0 200
#Maximum Width of Window
maximum_width 1000

# Minimum size of text area
minimum_size 400 400

# Draw shades?
draw_shades no

# Text stuff
draw_outline no # amplifies text if yes
draw_borders no
font Noto Serif
uppercase no # set to yes if you want all text to be in uppercase

# Stippled borders?
stippled_borders 3

# border width
border_width 6

# Default colors and also border colors, grey90 == #e5e5e5
default_color FFFFCC

# own_window_colour #555555
own_window_transparent yes

# Text alignment, other possible values are commented
#alignment top_left
alignment mm
#alignment top_right
#alignment bottom_left
#alignment bottom_right

# Gap between borders of screen and text
gap_x -350
gap_y 200

${execi 30 curl -s "http://weather.yahooapis.com/forecastrss?w=44418&u=c" -o ~/.cache/weather.xml}

# stuff after ‘TEXT’ will be formatted on screen

use_xft yes
xftfont Alegreya

TEXT
${execi 30 curl -s "http://weather.yahooapis.com/forecastrss?w=44418&u=c" -o ~/.cache/weather.xml}
${font Noto Serif:size=20}${color 888888}${alignr}${Time %A %d %B}${font Noto Serif:size=11}

${font Noto Serif:size=16}${alignr} ${time %H:%M}${font Noto Serif:size=11}

${font Noto Serif:size=14}${color 888888}${alignr}battery: ${battery_percent}%${font Noto Serif:size=12}

${font Noto Serif:size=12}${alignr}today: ${execi 30 grep "yweather:forecast" ~/.cache/weather.xml | grep -o "text=\"[^\"]*\"" | grep -o "\"[^\"]*\"" | grep -o "[^\"]*" | awk 'NR==1' | tr '[:upper:]' '[:lower:]' }, ${execi 30 grep "yweather:condition" ~/.cache/weather.xml | grep -o "temp=\"[^\"]*\"" | grep -o "\"[^\"]*\"" | grep -o "[^\"]*"}${font Noto Serif:size=12}
${font Noto Serif:size=12}${alignr}tomorrow: ${execi 30 grep "yweather:forecast" ~/.cache/weather.xml | grep -o "text=\"[^\"]*\"" | grep -o "\"[^\"]*\"" | grep -o "[^\"]*" | awk 'NR==2' | tr '[:upper:]' '[:lower:]' }, ${execi 30 grep "yweather:forecast" ~/.cache/weather.xml | grep -o "high=\"[^\"]*\"" | grep -o "\"[^\"]*\"" | grep -o "[^\"]*" | awk 'NR==2'}${font Noto Serif:size=12}

${font Noto Serif:size=12}${alignr}${color 888888}${execi 5 python2 /home/callum/.nowplaying.py -t}
${font Noto Serif:size=12}${alignr}${color 888888}${execi 5 python2 /home/callum/.nowplaying.py -a}
${font Noto Serif:size=12}${alignr}${color 888888}${execi 5 python2 /home/callum/.nowplaying.py -l}
#${font Noto Serif:size=28}${alignr}${color 888888}${execi 5 python2 /home/callum/.anowplaying.py -c ~/.album/cover.jpg}${image /home/callum/.album/cover.jpg -p 870,310 -s 128x128}
